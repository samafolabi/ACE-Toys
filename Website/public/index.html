<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="/">
    <title></title>
    <!--<link rel="icon" type="image/png" href="img/favicon.png" />-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap-theme.min.css">
    </head>

<body>
    
    <div id="blockly" style="height: 480px; width: 600px;"></div>

    <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
        <category name="Necessary">
            <block type="move"></block>
            <button text="FWD" callbackKey="myFWD"></button>
            <button text="REV" callbackKey="myREV"></button>
            <button text="LFT" callbackKey="myLFT"></button>
            <button text="RGT" callbackKey="myRGT"></button>
            <button text="STP" callbackKey="mySTP"></button>
            <button text="Connect" callbackKey="myConnect"></button>
          <block type="procedures_defnoreturn">
            <field name="NAME">do something</field>
            <comment pinned="false" h="80" w="160">Describe this function...</comment>
          </block>
          <block type="variables_set">
            <field name="VAR" id=",InsX/IEd|Y!)D8uRv[s">ip_addr</field>
          </block>
          <block type="controls_whileUntil">
            <field name="MODE">WHILE</field>
            <value name="BOOL">
              <block type="logic_boolean">
                <field name="BOOL">TRUE</field>
              </block>
            </value>
          </block>
          <block type="variables_set">
            <field name="VAR" id="f+59PtmHG$S5Fm#0:;xo">lcd_text</field>
          </block>
          <block type="variables_get">
            <field name="VAR" id=",InsX/IEd|Y!)D8uRv[s">ip_addr</field>
          </block>
          <block type="variables_get">
            <field name="VAR" id="f+59PtmHG$S5Fm#0:;xo">lcd_text</field>
          </block>
        </category>
        <category name="Logic" colour="#5b80a5">
          <block type="controls_if"></block>
          <block type="logic_compare">
            <field name="OP">EQ</field>
          </block>
          <block type="logic_operation">
            <field name="OP">AND</field>
          </block>
          <block type="logic_negate"></block>
          <block type="logic_boolean">
            <field name="BOOL">TRUE</field>
          </block>
          <block type="logic_null"></block>
        </category>
        <category name="Loops" colour="#5ba55b">
          <block type="controls_repeat_ext">
            <value name="TIMES">
              <shadow type="math_number">
                <field name="NUM">5</field>
              </shadow>
            </value>
          </block>
          <block type="controls_whileUntil">
            <field name="MODE">WHILE</field>
          </block>
          <block type="controls_for">
            <field name="VAR" id=")ab7]U`9$1g~#d!eTX]_">i</field>
            <value name="FROM">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
            <value name="TO">
              <shadow type="math_number">
                <field name="NUM">10</field>
              </shadow>
            </value>
            <value name="BY">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
          </block>
          <block type="controls_flow_statements" disabled="true">
            <field name="FLOW">BREAK</field>
          </block>
        </category>
        <category name="Math" colour="#5b67a5">
          <block type="math_number">
            <field name="NUM">0</field>
          </block>
          <block type="math_arithmetic">
            <field name="OP">ADD</field>
            <value name="A">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
            <value name="B">
              <shadow type="math_number">
                <field name="NUM">1</field>
              </shadow>
            </value>
          </block>
        </category>
        <category name="Text" colour="#5ba58c">
          <block type="text">
            <field name="TEXT"></field>
          </block>
          <block type="text_join">
            <mutation items="2"></mutation>
          </block>
          <block type="text_append">
            <field name="VAR" id=",4xbm1dGIo9Rm*7+H2f)">item</field>
            <value name="TEXT">
              <shadow type="text">
                <field name="TEXT"></field>
              </shadow>
            </value>
          </block>
          <block type="text_length">
            <value name="VALUE">
              <shadow type="text">
                <field name="TEXT">abc</field>
              </shadow>
            </value>
          </block>
          <block type="text_isEmpty">
            <value name="VALUE">
              <shadow type="text">
                <field name="TEXT"></field>
              </shadow>
            </value>
          </block>
          <block type="text_indexOf">
            <field name="END">FIRST</field>
            <value name="VALUE">
              <block type="variables_get">
                <field name="VAR" id="vte-KQm*0!;Kr[]SZ(1o">text</field>
              </block>
            </value>
            <value name="FIND">
              <shadow type="text">
                <field name="TEXT">abc</field>
              </shadow>
            </value>
          </block>
          <block type="text_charAt">
            <mutation at="true"></mutation>
            <field name="WHERE">FROM_START</field>
            <value name="VALUE">
              <block type="variables_get">
                <field name="VAR" id="vte-KQm*0!;Kr[]SZ(1o">text</field>
              </block>
            </value>
          </block>
          <block type="text_getSubstring">
            <mutation at1="true" at2="true"></mutation>
            <field name="WHERE1">FROM_START</field>
            <field name="WHERE2">FROM_START</field>
            <value name="STRING">
              <block type="variables_get">
                <field name="VAR" id="vte-KQm*0!;Kr[]SZ(1o">text</field>
              </block>
            </value>
          </block>
          <block type="text_changeCase">
            <field name="CASE">UPPERCASE</field>
            <value name="TEXT">
              <shadow type="text">
                <field name="TEXT">abc</field>
              </shadow>
            </value>
          </block>
          <block type="text_trim">
            <field name="MODE">BOTH</field>
            <value name="TEXT">
              <shadow type="text">
                <field name="TEXT">abc</field>
              </shadow>
            </value>
          </block>
        </category>
        <category name="Variables" colour="#a55b80" custom="VARIABLE"></category>
        <category name="Functions" colour="#995ba5" custom="PROCEDURE"></category>
      </xml>

      <xml xmlns="https://developers.google.com/blockly/xml" id="workspaceBlocks" style="display: none">
        <variables>
          <variable id=",`Se}R:x{h}26C=JhQgY">ip_addr</variable>
          <variable id="Hj`VbjH7X#`b3P`3=F4l">lcd_text</variable>
        </variables>
        <block type="procedures_defnoreturn" id="z|ja-1,P^9K68O8?reT[" x="33" y="-7">
          <field name="NAME">do something</field>
          <comment pinned="false" h="80" w="160">Describe this function...</comment>
          <statement name="STACK">
            <block type="variables_set" id="Al{xY5wAK^)sCjcmSBFw">
              <field name="VAR" id=",`Se}R:x{h}26C=JhQgY">ip_addr</field>
              <value name="VALUE">
                <block type="text" id="%vNIP-t}+U]rWr16qP0e">
                  <field name="TEXT"></field>
                </block>
              </value>
              <next>
                <block type="variables_set" id="c-@xhcJ!U,/@m:Xo|3sa">
                  <field name="VAR" id="Hj`VbjH7X#`b3P`3=F4l">lcd_text</field>
                  <value name="VALUE">
                    <block type="text" id="-D|GtLu}OnS^L4fXXX*2">
                      <field name="TEXT"></field>
                    </block>
                  </value>
                  <next>
                      <block type="move" id="kJ=^W)*tBn-o?y.8UBp6" x="13" y="13">
                        <field name="direction">FWD</field>
                        <next>
                                <block type="end" id="S#q1_Gw){n8GF23!rbGC">
                                    </block>
                        </next>
                      </block>
                    
                  </next>
                </block>
              </next>
            </block>
          </statement>
        </block>
      </xml>
<div style="float: right;">
      <textarea id="textarea"></textarea>
      <button id="update">Update</button>
      </div>
    <main>
        <!-- Response from Buggy -->
        <p>
            <strong>Response: </strong>
            <span id="response">No Connection</span>
        </p>
        <!-- Test Connection to Buggy -->
        <input id="ip" />
        <button onclick="set_ip();send('Test');">Connect</button>
        <!-- One off movement commands -->
        <div>
            <button onclick="send('FWD')">FWD</button>
            <button onclick="send('REV')">REV</button>
            <button onclick="send('LFT')">LFT</button>
            <button onclick="send('RGT')">RGT</button>
            <button onclick="send('STP')">STP</button>
        </div>
        <!-- Send string to the LCD -->
        <div>
            <input maxlength="16" id="lcd" placeholder="LCD Printout" />
            <button id="lcdsend">Send</button>
        </div>
        <!-- 5 command loop to the buggy -->
        <table id="table">
            <tr>
                <th>Command</th>
                <th>Time (in seconds)</th>
            </tr>
            <!-- Generates the elements in JS -->
        </table>
        <button id="loopsend">Send</button>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="assets/blockly/blockly_compressed.js"></script>
    <script src="assets/blockly/blocks_compressed.js"></script>
    <script src="assets/blockly/javascript_compressed.js"></script>
    <script src="assets/blockly/msg/js/en-gb.js"></script>
    <script src="assets/js/index.js"></script>
</body>

</html>